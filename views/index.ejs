<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>What's In It?</title>
  </head>
  <body>
    <h1>What's In It?</h1>

    <form action="/search" method="get">
      <label for="q">Search:</label>
      <input type="text" id="q" name="q" value="<%= q %>">
      <br>
      <label for="nameFilter">By Name only:</label>
      <input type="text" id="nameFilter" name="nameFilter" value="<%= nameFilter %>">
      <br>
      <label for="ingredientFilter">By Ingredient only:</label>
      <input type="text" id="ingredientFilter" name="ingredientFilter" value="<%= ingredientFilter %>">
      <br>
      <label for="alcoholicFilter">Contains Alcohol:</label>
      <select id="alcoholicFilter" name="alcoholicFilter">
        <option value="">All</option>
        <option value="1" <%= alcoholicFilter === '1' ? 'selected' : '' %>>Yes</option>
        <option value="0" <%= alcoholicFilter === '0' ? 'selected' : '' %>>No</option>
      </select>
      <br>
      <button type="submit">Search</button>
    </form>

    <h1>Here are some of our recipes!</h1>
    <% const randomRecipes = recipes.sort(() => Math.random() - 0.5).slice(0, 5); %>
    <% randomRecipes.forEach(function(recipe) { %>
      <div>
        <h2><%= recipe.name %></h2>
        <h3>What does it contain...?</h3>
        <p><%= recipe.ingredients %></p>
        <h3>How is it made...?</h3>
        <p><%= recipe.instructions %></p>
        <h3>Does it contain alcohol...?</h3>
        <p><%= recipe.is_alcoholic === 1 ? 'Yes' : 'No' %></p>        
      </div>
    <% }); %>
    
    

    <a href="/create"><button>Create a new Recipe</button></a>
  </body>
</html>
